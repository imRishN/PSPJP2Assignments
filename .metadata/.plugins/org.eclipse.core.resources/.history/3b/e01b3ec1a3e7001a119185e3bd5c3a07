package controllers;

import java.util.Collections;
import java.util.Comparator;
import java.util.List;

import models.Transaction;

public class FeeCalculator {
	public static final String fileLocation = "G:\\Publicis Sapient FTE\\PJP 2\\Week2\\Sample_Data_Fee_Calculator.csv";
	private List<Transaction> transactions;
	
	public void readData()
	{
		transactions = TransactionDataReader.readCSV(fileLocation);
		sortData();
	}
	
	public void sortData()
	{
		Collections.sort(transactions, new TransactionComparator());
		for(Transaction transaction: transactions)
		{
			System.out.println(transaction.toString());
		}
	}
}

class TransactionComparator implements Comparator<Transaction>
{

	public int compare(Transaction o1, Transaction o2) {
		
		int value1 = o1.getClientId().compareTo(o2.getClientId());
		if(value1==0)
		{
			int value2 = o1.getSecurityId().compareTo(o2.getSecurityId());
			if(value2==0)
			{
				return o1.getTransactionDate().compareTo(o2.getTransactionDate());
			}
			return value2;
		}
		return value1;
	}
	
}
